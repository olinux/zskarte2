<!--
  ~ Copyright Â© 2018 ZSO Bern Plus
  ~
  ~ This file is part of Zivilschutzkarte 2.
  ~
  ~ Zivilschutzkarte 2 is free software: you can redistribute it and/or modify it
  ~ under the terms of the GNU General Public License as published by the
  ~ Free Software Foundation, either version 3 of the License, or (at your option)
  ~ any later version.
  ~
  ~ Zivilschutzkarte 2 is distributed in the hope that it will be useful, but WITHOUT
  ~ ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
  ~ FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License along with
  ~ Zivilschutzkarte 2.  If not, see <http://www.gnu.org/licenses/>.
  ~
  ~
  -->

<div class="geocoder">
    <mat-form-field (mouseenter)="previewCoordinate(this.selected)">
        <input type="text" placeholder="{{i18n.get('findPlace')}}" matInput [matAutocomplete]="auto" [(ngModel)]="inputText" (ngModelChange)="geoCodeLoad()" #searchField>
        <mat-autocomplete #auto="matAutocomplete" [displayWith]="getLabel" (optionSelected)="geoCodeSelected($event)">
            <mat-option *ngFor="let location of foundLocations" [value]="location.attrs" (mouseenter)="previewCoordinate(location.attrs)" (mouseleave)="goToCoordinate(false)">
                <span [innerHTML]="location.attrs.label" [title]="getLabel(location.attrs)"></span>
            </mat-option>
        </mat-autocomplete>
    </mat-form-field>
    <div *ngIf="selected" class="currentLocation">
        <img src="assets/img/place.png"/><span> {{getLabel(selected)}}</span>
    </div>

    <!-- <input #geocode type="text"  placeholder="">-->
</div>